<!doctype html>
<html>
    <head>
        <title>jsPlumb Toolkit - Connectivity demonstration</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8"/>

        <!-- CSS -->
        <link rel="stylesheet" href="node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit.css">
        <link rel="stylesheet" href="node_modules/@jsplumb/json-syntax-highlighter/jsplumbtoolkit-syntax-highlighter.css">
        <link rel="stylesheet" href="node_modules/@jsplumb/toolkit-demo-support/jsplumbtoolkit-demo-support.css">
        <!-- /CSS -->
        <link rel="stylesheet" href="app.css">
    </head>
    <body>

        <!-- content -->
        <script type="jtk" id="tmplNode">
            <div class="connectivity-node">
                <h3>${id.substring(0, 5)}</h3>
                <div style="display:flex;flex-direction:column">
                    <r-each in="items">
                        <div>
                            <span>${entries.join(' ')}</span>
                            <jtk-source port-id="${index}"/>
                            <jtk-target port-id="${index}"/>
                        </div>
                    </r-each>
                </div>
            </div>
        </script>

        <div class="jtk-demo-main" id="jtk-demo-connectivity">
            <!-- this is the main drawing area -->
            <div class="jtk-demo-canvas canvas-wide">
                <!-- controls -->
                <div class="controls">
                    <i class="fa fa-arrows selected-mode" mode="pan" title="Pan Mode"></i>
                    <i class="fa fa-pencil" mode="select" title="Select Mode"></i>
                    <i class="fa fa-home" reset title="Zoom To Fit"></i>
                    <i class="fa fa-plus" add title="Add a Node"></i>
                </div>
                <!-- miniview -->
                <div class="miniview"></div>
            </div>

            <div class="jtk-demo-rhs">
                <div class="description">
                    <h3>Active Filtering</h3>
                    <p>Active filtering provides a way to filter connection targets when a drag begins.</p>
                    <p>
                        When <code>activeFiltering</code> is set on a Surface and a <code>beforeConnect</code> function is supplied to the Toolkit's
                        constructor, that function is called before a new connection is dragged, for every possible target for
                        the current source.
                    </p>
                    <p>
                        Whenever the <code>beforeConnect</code> method returns false, the corresponding target object (a Node, Group or Port) is disabled, and the
                        user will not be able to drop the connection onto it.</p>
                    <p>
                        Each Node contains a set of entries which each contain the name of two types of animal. Entries are
                        deemed connectable if one or more animals from the source entry are matched in a given target.
                    </p>
                </div>
                <!-- the current dataset -->
                <div class="jtk-demo-dataset"></div>
            </div>
        </div>

        <!-- /content -->

        <!-- imports -->
        <script src='node_modules/jsplumbtoolkit/dist/js/jsplumbtoolkit.js'></script>
        <script src="node_modules/@jsplumb/json-syntax-highlighter/jsplumbtoolkit-syntax-highlighter.umd.js"></script>
        <!-- /imports -->

        <!-- demo -->        
        <script src="app.js"></script>
        <!-- /demo -->

    </body>
</html>
